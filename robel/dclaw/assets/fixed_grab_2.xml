<!--
 ~ Copyright 2019 The ROBEL Authors.
 ~
 ~ Licensed under the Apache License, Version 2.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~     http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
 -->

<?xml version="1.0"?>
<mujoco model="dclaw3xh_valve3">
  <include file="../../robel-scenes/scenes/basic_scene.xml"/>
  <include file="../../robel-scenes/dclaw/assets/dependencies3xh_grab_fixed.xml"/>
  <include file="../../robel-scenes/dclaw_stations/assets/dependencies.xml"/>
  <compiler meshdir="../../robel-scenes/dclaw" texturedir="../../robel-scenes/dclaw"/>
  <worldbody>
    <camera name="targeting" pos="1 1 2" mode="targetbodycom" target="dClaw"/>
    <camera name="object_target" pos="0 0 0.33" mode="targetbody" target="object"/>
    <body name="mount" pos="0 0 .335" euler="0 0 0">
      <joint pos="0 0 0" name="base_joint_z" type="slide" axis="0 0 1" limited="true" range="-0.2 0.2"/>
      <!-- <geom name="mount" type="cylinder" size="0.03 0.005" rgba=".7 .7 .7 1"/> -->
      <include file="../../robel-scenes/dclaw/assets/chain3xh.xml"/>
      <include file="../../robel-scenes/dclaw/assets/chain3xh_overlay.xml"/>
      <body name="payload" pos="0 0 0">
        <inertial pos="0 0 0" mass="5" diaginertia="1 1 1"/>
        <geom name="mount" type="cylinder" size="0.03 0.005" rgba=".7 .7 .7 1"/>
      </body>
    </body>
    <body name="object" pos="0 0 0.13 " euler="0 0 0">
      <joint name="valve_OBJRx" type="free" pos="0 0 0.2" />
      <geom class="station_viz_plastic_white" friction="1" mesh="valve_2" pos="-0.023 0.092 0.07" euler="3.14 0 0"/>
      <geom class="station_phy_plastic" friction="1" mesh="valve_2" pos="-0.023 0.092 0.07" euler="3.14 0 0"/>
      <geom name="peg" type="box" size="0.02 0.02 0.04" pos="0 0 -0.02" conaffinity="1"/>
      <geom name="peg_end" type="box" size="0.02 0.02 0.001" pos="0 0 -0.061" conaffinity="0" rgba="1 0 0 1"/>
      
    </body>
    <body name="hole" pos="0 0 0">
      <geom type="box" size="0.025 0.0125 0.04" rgba='1 1 1 0.5' pos="0 0.0375 0.04"/>
      <geom type="box" size="0.025 0.0125 0.04" rgba='1 1 1 0.5' pos="0 -0.0375 0.04"/>
      <geom type="box" size="0.0125 0.05 0.04" rgba='1 1 1 0.5' pos="0.0375 0 0.04"/>
      <geom type="box" size="0.0125 0.05 0.04" rgba='1 1 1 0.5' pos="-0.0375 0 0.04"/>
    </body>
    <body name="target" pos="0 0 0">
      <site name="tmark" type="capsule" size=".003 0.04" pos=".04 0 0" rgba="0 1 0 1" euler="0 1.57 0"/>
    </body>
  </worldbody>
</mujoco>
